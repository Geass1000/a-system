<div class="modal-window modal-login" [class.visible]="modalOpen | async">
	<i class="fa fa-times icon-close" aria-hidden="true" (click)="closeModal()"></i>
	<section class="modal-header">
		<h1>Sign up</h1>
		<p>Sign up to create your account.</p>
	</section>
	<section class="modal-body">
		<form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
			<div class="form-group"
				[class.focused]="signupForm.get('name').value">
				<input type="text" name="name" class="form-control"
					required formControlName="name" />
				<label>Login</label>

				<div *ngIf="formError.name" class="form-error">
					{{formError.name}}
				</div>
			</div>

			<div class="form-group"
				[class.focused]="signupForm.get('email').value">
				<input type="email" name="email" class="form-control"
					required formControlName="email" />
				<label>E-mail</label>

				<div *ngIf="formError.email" class="form-error">
					{{formError.email}}
				</div>
			</div>

			<div class="form-column" formGroupName="passwords">
				<div class="form-group"
					[class.focused]="signupForm.get('passwords').get('password').value">
					<input type="password" name="password" class="form-control"
						required formControlName="password" />
					<label>Password</label>

					<div *ngIf="formError.password" class="form-error">
						{{formError.password}}
					</div>
				</div>

				<div class="form-group"
					[class.focused]="signupForm.get('passwords').get('passwordConfirm').value">
					<input type="password" name="passwordConfirm" class="form-control"
						required formControlName="passwordConfirm" />
					<label>Confirm password</label>

					<div *ngIf="formError.passwordConfirm" class="form-error">
						{{formError.passwordConfirm}}
					</div>
					<div *ngIf="formError.passwords" class="form-error">
						{{formError.passwords}}
					</div>
				</div>
			</div>

			<button type="submit" [disabled]="!signupForm.valid">Sign up</button>

			<div *ngIf="formError.serverError" class="form-error">
				{{formError.serverError}}
			</div>
		</form>
	</section>
	<section class="modal-footer">
		<div>Already registered? <a (click)="login()">Login</a></div>
	</section>
</div>
